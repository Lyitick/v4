# Audit: household payments UI

## Почему не менялись вопросы
- Текущий вопрос удалялся сразу после ответа, поэтому `edit_message_text` применялся к уже удалённому сообщению.
- В некоторых ветках отсутствовал корректный `last_question_message_id`, из-за чего редактирование не попадало в нужное сообщение.

## Почему не работал отсчёт
- Отсчёт был на 3 секунды и сообщение не фиксировалось в едином списке UI-сообщений, поэтому часть сообщений оставалась до появления главного меню.

## Почему удалялось 4/6 вопросов
- Список сообщений для очистки хранился непоследовательно (`ui_message_ids` vs `household_ui_message_ids`), часть сообщений не попадала в общий реестр и удалялась только при последующем переходе к главному меню.

## Что исправлено
- Все вопросы сохраняются в единый список `household_ui_message_ids` с логированием при отправке.
- После ответа вопрос не удаляется: редактируется в ✅/❌!!! формат, затем задаётся следующий.
- Отсчёт выполняется 5→1 с `await asyncio.sleep(1)` между изменениями, сообщение отсчёта тоже хранится в `household_ui_message_ids`.
- Полная очистка всех вопросов и сообщения отсчёта выполняется до показа главного меню.
